<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Calendar</title>

  <!-- responsive & adaptive overrides -->
  <style>
    /* базовые сбросы */
    html,body{margin:0;padding:0;width:100%;height:100%;}

    /* контейнер, чтобы держать календарь по центру и давать боковые отступы */
    .calendarContainer{
      width:100%;
      padding-inline:8px;        /* "inline" — учитывает rtl/ltr */
      box-sizing:border-box;
      display:flex;
      justify-content:center;
    }

    /* сам календарь занимает всю доступную ширину,
       но не больше 540 px (читаемость на широких экранах) */
    .calendar{
      width:100%;
      max-width:540px;
      border-radius:12px;
      box-shadow:0 4px 12px rgba(0,0,0,.1);
      padding:16px;
      text-align:center;
    }

    /* заголовок месяца */
    h2{margin-block:0 12px; font-weight:600; font-size:1.1rem;}

    /* сетка дней недели и чисел */
    .weekdays,.days{
      display:grid;
      grid-template-columns:repeat(7,minmax(0,1fr));
      gap:6px;
    }

    .weekdays div{font-size:.8rem;color:#777;}

    /* клетки дат: квадрат через aspect-ratio,
       flex для центрирования цифры */
    .days div{
      aspect-ratio:1/1;          /* квадраты, автоматически подстроятся под ширину */
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:6px;
      background:rgba(0,0,0,.05);
      font-size:.9rem;
    }

    .today{background:#3b82f6;color:#fff;font-weight:bold;}
  </style>
</head>

<body>
 <div class="calendarContainer">
   <div class="calendar">
     <h2 id="monthLabel">Loading…</h2>
     <div class="weekdays">
       <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div>
       <div>Fri</div><div>Sat</div><div>Sun</div>
     </div>
     <div class="days" id="calendarDays"></div>
   </div>
 </div>

 <!-- логика отрисовки календаря -->
 <script>
   (function(){
     const today = new Date();
     const monthNames = ["January","February","March","April","May","June",
                         "July","August","September","October","November","December"];

     const year  = today.getFullYear();
     const month = today.getMonth();
     const currentDay = today.getDate();
     const firstDay   = new Date(year, month, 1).getDay() || 7; // 1‒7, Mon‑Sun
     const daysInMonth = new Date(year, month + 1, 0).getDate();

     document.getElementById("monthLabel").textContent = `${monthNames[month]} ${year}`;
     const cont = document.getElementById("calendarDays");

     // заполняем пустые клетки до первого числа
     for (let i = 1; i < firstDay; i++) {
       cont.appendChild(document.createElement("div"));
     }

     // генерируем все дни месяца
     for (let d = 1; d <= daysInMonth; d++) {
       const cell = document.createElement("div");
       if (d === currentDay) cell.classList.add("today");
       cell.textContent = d;
       cont.appendChild(cell);
     }
   })();

   /* перезагружаем, когда вкладка Notion снова активна —
      позволяет "подцепить" новый масштаб без ручного F5 */
   document.addEventListener("visibilitychange", () => {
     if (!document.hidden) location.reload();
   });
 </script>
</body>
</html>
